!function(){"use strict";angular.module("ngRadio",[])}(),function(){"use strict";function a(a,b){return{restrict:"E",scope:!0,replace:!0,template:'<ng-include src="getTemplateUrl()" />',link:function(c,d,e){function f(){function a(){c.listExpanded=!0}function b(){c.listExpanded=!1}return{expand:a,collapse:b}}function g(){b(function(){c.station.readyState<=2&&h("waiting streaming to complete ... ")},1e3),c.station.addEventListener("canplay",function(){h("Station is available for playing")},!1),c.station.addEventListener("playing",function(){c.isLoading=!1,h("Station is now playing")},!1),c.station.addEventListener("error",function(a){h("Error playing",a),c.isLoading=!1},!1),c.station.addEventListener("waiting",function(a){c.isLoading=!0,h("Waiting station to load")},!1),c.station.addEventListener("ended",function(a){h("Playing ended"),c.audio.destory(),c.isLoading=!1},!1)}function h(a,b){}c.listExpanded=!1,c.enableNavigation=!0,c.station=null,c.isLoading=!1;var i,j=e.ngrSource,k=(e.ngrDebugMode||!0,e.ngrTheme||"widget.html");c.getTemplateUrl=function(){return"dist/templates/"+k},"undefined"!=typeof j&&j.length>0&&a.setList(j),"undefined"!=typeof e.ngrExtendedMode&&e.ngrExtendedMode===!0&&f.expand(),"undefined"!=typeof e.ngrEnableNavigation&&(c.enableNavigation=e.ngrEnableNavigation),(i=a.getList())&&(c.list=i,c.activeStation=a.getActiveStation(),h(c.activeStation.name)),c.setActiveStation=function(b){c.activeStation=b,a.setActiveStation(b),c.audio.play()},c.next=function(){c.setActiveStation(a.getNextStation())},c.previous=function(){c.setActiveStation(a.getPreviousStation())},c.expandStationsList=function(){c.listExpanded?f().collapse():f().expand()},c.audio={init:function(){this.destory(),c.station=new Audio(c.activeStation.url)},play:function(){this.init(),c.station.play(),g()},pause:function(){c.station.pause()},stop:function(){c.station.pause(),c.station=null},load:function(){c.station.load()},destory:function(){null!==c.station&&this.stop()},isPlaying:function(){return null===c.station?!1:!c.station.paused}}}}}angular.module("ngRadio").directive("ngRadio",a)}(),function(){"use strict";function a(){function a(){if(0==h.length)throw new Error("Radio stations list is empty, please provide a list first!");return h}function b(a){if(!a instanceof Array)throw new Error("Souce must be typeof array!");try{h=JSON.parse(a),i=h[0],j=h.indexOf(i)}catch(b){throw b}}function c(a){i=a}function d(){return i}function e(){return h.indexOf(i)}function f(){var a=j++;return c(h[a]),h[a]}function g(){var a=j--;return c(h[a]),h[a]}var h=[],i={},j=0;return{getList:a,setList:b,setActiveStation:c,getActiveStation:d,getActiveIndex:e,getNextStation:f,getPreviousStation:g}}angular.module("ngRadio").factory("ngRadioService",a)}();
//# sourceMappingURL=ngRadio.min.map